# **************************************************************************** #
#                                                                              #
#                                                         ::::::::             #
#    Makefile                                           :+:    :+:             #
#                                                      +:+                     #
#    By: Ceren Kurt <cerkurt@student.codam.nl>        +#+                      #
#                                                    +#+                       #
#    Created: 2025/10/22 19:58:36 by Ceren Kurt    #+#    #+#                  #
#    Updated: 2025/11/25 14:44:18 by cerkurt       ########   odam.nl          #
#                                                                              #
# **************************************************************************** #

# **************************************************************************** #
#                           MAKE FILE FOR FT_PRINTF                            #
# **************************************************************************** #


# **************************************************************************** #
#                                BASH COMMANDS                                 #
# **************************************************************************** #

# make          builds libft.a and libftprintf.a with mandatory sources
# make bonus    rebuilds including bonus sources
# make clean    remove .o
# make fclean   remove .o and libft.a
# make re       full rebuild

# **************************************************************************** #



# **************************************************************************** #
#                 OUTPUT NAME - COMPILE FLAGS - CREATION COMMAND               #
# **************************************************************************** #

NAME        := libftprintf.a
CC          := cc
CFLAGS      := -Wall -Wextra -Werror -I. -Ilibft
AR          := ar rcs
RM          := rm -f
LIBFT_DIR   := libft
LIBFT_LIB   := $(LIBFT_DIR)/libft.a

# **************************************************************************** #




# **************************************************************************** #
#                               MANDATORY C SOURCES                            #
# **************************************************************************** #

MAND_SRCS   := \
	ft_printf.c \
	ft_putchar.c \
	ft_putnbr_base.c \
	ft_putptr.c \
	ft_putstr.c \

# **************************************************************************** #



# **************************************************************************** #
#                                BONUS C SOURCES                               #
# **************************************************************************** #

BNS_SRC   :=

# **************************************************************************** #



# **************************************************************************** #
#                             COMPILATION AND OUTPUT                           #
# **************************************************************************** #
SRCS        := $(MAND_SRCS)

OBJS        := $(SRCS:.c=.o)

# **************************************************************************** #



# **************************************************************************** #
#                       BASH COMMANDS AND TERMINAL MESSAGES                    #
# **************************************************************************** #

all: $(NAME)

$(LIBFT_LIB):
	@$(MAKE) -C $(LIBFT_DIR)

$(NAME): $(OBJS) $(LIBFT_LIB)
	@echo "Building $(NAME)..."
	@$(AR) $(NAME) $(OBJS) $(LIBFT_DIR)/*.o
	@echo "Successfully created $(NAME)."

clean:
	@$(RM) $(OBJS)
	@$(MAKE) -C $(LIBFT_DIR) clean || true
	@echo "Objects removed."

fclean: clean
	@$(RM) $(NAME) $(LIBFT_LIB)
	@echo "Cleanup complete."

re: fclean all

%.o: %.c
	@$(CC) $(CFLAGS) -c $< -o $@

.PHONY: all clean fclean re

# **************************************************************************** #
